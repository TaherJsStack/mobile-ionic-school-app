{"version":3,"sources":["webpack:///src/app/user/login/login.page.html","webpack:///src/app/user/login/login-routing.module.ts","webpack:///src/app/user/login/login.module.ts","webpack:///src/app/user/login/login.page.scss","webpack:///src/app/user/login/login.page.ts"],"names":["routes","path","component","LoginPageRoutingModule","imports","forChild","exports","LoginPageModule","declarations","LoginPage","Router","toastController","LoginService","storage","console","log","loginForm","email","required","password","Subscription","checkEmail","subscribe","isEmail","sucMeseage","message","errMessage","create","position","duration","then","toast","present","err","error","invalid","value","loginData","login","logedIn","set","userInfo","val","token","navigateByUrl","reset","unsubscribe","selector","template"],"mappings":"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","file":"user-login-login-module-es5.js","sourcesContent":["export default \"<ion-content>\\n\\n  <div class=\\\"logo\\\">\\n    <img src=\\\"assets/logo.png\\\">\\n  </div>\\n\\n  <div class=\\\"login-form\\\">\\n    <form (ngSubmit)=\\\"onLogin()\\\" [formGroup]=\\\"loginForm\\\">\\n      <ion-text color=\\\"success\\\" *ngIf=\\\"sucMeseage\\\" >\\n        {{ sucMeseage }}\\n      </ion-text>\\n      <mat-error *ngIf=\\\"errMessage\\\">{{ errMessage }}</mat-error>\\n      <mat-form-field>\\n        <mat-label>Email</mat-label>\\n        <input \\n          email \\n          #email \\n          matInput\\n          (blur)=\\\"onCheckEmail(email.value)\\\"\\n          formControlName=\\\"email\\\" \\n          placeholder=\\\"Ex. m@m.m\\\"> \\n        <mat-error *ngIf=\\\"loginForm.hasError('email') && loginForm.hasError('required')\\\">\\n          Please enter a valid email address\\n        </mat-error>\\n        <mat-error *ngIf=\\\"loginForm.hasError('required')\\\"> Email is <strong>required</strong></mat-error>\\n      </mat-form-field>\\n      \\n      <mat-form-field>\\n        <mat-label>password</mat-label>\\n        <input matInput\\n               ngModel\\n               type=\\\"password\\\"\\n               formControlName=\\\"password\\\"\\n               placeholder=\\\"1900292020\\\">\\n      </mat-form-field>\\n      <br>\\n      <button mat-button color=\\\"primary\\\" type=\\\"submit\\\">Login</button>\\n      <button mat-button color=\\\"primary\\\" routerLink=\\\"/forgot-password\\\">Forget Password</button>\\n    </form>\\n  </div>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport {MatInputModule} from '@angular/material/input';\nimport {MatButtonModule} from '@angular/material/button';\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule,\n    MatInputModule,\n    MatButtonModule,\n    ReactiveFormsModule,\n\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","export default \"ion-content {\\n  --background: rgb(207,158,152);\\n  --background: linear-gradient(180deg, rgba(207,158,152,0.7906512946975666) 0%, rgba(255,189,96,1) 70%);\\n}\\nion-content .logo {\\n  width: 40%;\\n  margin: auto;\\n  margin-top: 50px;\\n}\\nion-content .login-form {\\n  width: 65%;\\n  margin: auto;\\n  margin-top: 20%;\\n}\\nion-content mat-form-field {\\n  width: 100%;\\n}\\nion-content form button {\\n  display: block;\\n  margin: auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2RhcmtzaWRlL0Rlc2t0b3Avc2Nob29sL3NjaG9vbC1hcHAvc3JjL2FwcC91c2VyL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyIsInNyYy9hcHAvdXNlci9sb2dpbi9sb2dpbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSw4QkFBQTtFQUNBLHNHQUFBO0FDQ0Y7QURBRTtFQUNFLFVBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7QUNFSjtBREFFO0VBQ0UsVUFBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0FDRUo7QURBRTtFQUNFLFdBQUE7QUNFSjtBRENJO0VBQ0UsY0FBQTtFQUNBLFlBQUE7QUNDTiIsImZpbGUiOiJzcmMvYXBwL3VzZXIvbG9naW4vbG9naW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnR7XG4gIC0tYmFja2dyb3VuZDogcmdiKDIwNywxNTgsMTUyKTtcbiAgLS1iYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCByZ2JhKDIwNywxNTgsMTUyLDAuNzkwNjUxMjk0Njk3NTY2NikgMCUsIHJnYmEoMjU1LDE4OSw5NiwxKSA3MCUpO1xuICAubG9nb3tcbiAgICB3aWR0aDogNDAlOyBcbiAgICBtYXJnaW46IGF1dG87IFxuICAgIG1hcmdpbi10b3A6IDUwcHg7XG4gIH1cbiAgLmxvZ2luLWZvcm17XG4gICAgd2lkdGg6IDY1JTsgXG4gICAgbWFyZ2luOiBhdXRvOyBcbiAgICBtYXJnaW4tdG9wOiAyMCU7XG4gIH1cbiAgbWF0LWZvcm0tZmllbGR7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cbiAgZm9ybXtcbiAgICBidXR0b257XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIG1hcmdpbjogYXV0bztcbiAgICB9XG4gIH1cbn0iLCJpb24tY29udGVudCB7XG4gIC0tYmFja2dyb3VuZDogcmdiKDIwNywxNTgsMTUyKTtcbiAgLS1iYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCByZ2JhKDIwNywxNTgsMTUyLDAuNzkwNjUxMjk0Njk3NTY2NikgMCUsIHJnYmEoMjU1LDE4OSw5NiwxKSA3MCUpO1xufVxuaW9uLWNvbnRlbnQgLmxvZ28ge1xuICB3aWR0aDogNDAlO1xuICBtYXJnaW46IGF1dG87XG4gIG1hcmdpbi10b3A6IDUwcHg7XG59XG5pb24tY29udGVudCAubG9naW4tZm9ybSB7XG4gIHdpZHRoOiA2NSU7XG4gIG1hcmdpbjogYXV0bztcbiAgbWFyZ2luLXRvcDogMjAlO1xufVxuaW9uLWNvbnRlbnQgbWF0LWZvcm0tZmllbGQge1xuICB3aWR0aDogMTAwJTtcbn1cbmlvbi1jb250ZW50IGZvcm0gYnV0dG9uIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbjogYXV0bztcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Validators, FormGroup, FormControl } from '@angular/forms';\nimport { LoginService } from 'src/app/providers/login.service';\n// import { LoginService } from '../ ../providers/login.service';\nimport { Storage } from '@ionic/storage';\nimport { ToastController } from '@ionic/angular';\n\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n\n  loginForm: FormGroup;\n  Subscription :Subscription;\n  errMessage;\n  sucMeseage;\n\n  constructor(private Router: Router,\n              private toastController: ToastController,\n              private LoginService: LoginService, \n              private storage: Storage ) { }\n\n  ngOnInit() {\n    console.log('==============================> LoginPage <======================================')\n\n    this.loginForm = new FormGroup ({\n      email:    new FormControl(null, Validators.required),\n      password: new FormControl(null, Validators.required),\n      // email:     new FormControl(null, Validators.compose([\n      //   Validators.required,\n      //   Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$')\n      //   ])\n    })\n  \n  }\n\n  \n  onCheckEmail(email){\n    console.log('email =>', email)\n    this.Subscription = this.LoginService.checkEmail(email)\n    .subscribe( \n      isEmail => { \n        console.log('isEmail =>', isEmail)\n        this.sucMeseage = isEmail.message;\n        this.errMessage = ''\n        \n        this.toastController.create({\n            message: isEmail.message,\n            position: 'top',\n            duration: 2000\n          }).then( toast => { toast.present() }\n        );\n      },\n      err => {\n        console.log('onCheckEmail =>', err.error.message)\n        this.errMessage = err.error.message;\n        this.sucMeseage = ''\n      })\n  }\n\n\n  onLogin() {\n\n    if (this.loginForm.invalid ) {\n      return;\n    }\n    console.log('login =>', this.loginForm.value)\n    // this.Router.navigateByUrl('/tabs/tabs')\n    this.loginForm.value.email;\n    const loginData = {\n      email:    this.loginForm.value.email,\n      password: this.loginForm.value.password\n    }\n    \n    this.LoginService.login(loginData)\n      .subscribe( logedIn => { \n        console.log(' ========> logedIn', logedIn);\n              // set a key/value\n        this.storage.set('userData', logedIn.userInfo).then((val) => {\n          console.log('userData  login =>', val)\n        })\n        this.storage.set('schoolToken', logedIn.token).then((val) => {\n          console.log('schoolToken login =>', val);\n          if (val != null) {\n            this.Router.navigateByUrl('/tabs/tabs')\n            this.loginForm.reset()\n          }\n        }); \n      \n      })\n  }\n\n\n  ngOnDestroy() {\n    this.Subscription.unsubscribe()\n  }\n\n\n}\n"]}